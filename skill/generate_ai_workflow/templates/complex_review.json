{
  "_meta": {
    "pattern": "complex_review",
    "description": "复杂审核模式：多输入 + OCR + LLM信息提取 + JSON解析 + 代码处理 + LLM判断 → 输出",
    "use_cases": ["婚假/病假/陪产假审核", "简历筛选", "合同审核", "材料审核", "资质合规检查"],
    "source_example": "婚假申请审核.json",
    "notes": "此模式较复杂，通常需要根据具体审核场景大幅调整节点数量和连接。模板提供基本骨架。"
  },
  "edges": [
    {
      "sourceHandle": "NODE_INPUT_IMAGE_01-1-input_image_0",
      "data": { "weight": "1" },
      "markerEnd": { "color": "#9DA0B3", "width": 25, "type": "arrowclosed", "height": 10 },
      "animated": true,
      "style": { "strokeWidth": 2, "strokeLinejoin": "miter", "strokeDashoffset": 2, "stroke": "#9DA0B3", "strokeDasharray": 4 },
      "id": "EDGE_01",
      "source": "NODE_INPUT_IMAGE_01",
      "type": "ClosableEdge",
      "targetHandle": "NODE_OCR_01-1-imageocr_text_0-in-mask",
      "selected": false,
      "target": "NODE_OCR_01"
    },
    {
      "sourceHandle": "NODE_OCR_01-1-imageocr_text_0",
      "data": { "weight": "1" },
      "markerEnd": { "color": "#9DA0B3", "width": 25, "type": "arrowclosed", "height": 10 },
      "animated": true,
      "style": { "strokeWidth": 2, "strokeLinejoin": "miter", "strokeDashoffset": 2, "stroke": "#9DA0B3", "strokeDasharray": 4 },
      "id": "EDGE_02",
      "source": "NODE_OCR_01",
      "type": "ClosableEdge",
      "targetHandle": "NODE_LLM_EXTRACT_01-1-llm_0-in-mask",
      "selected": false,
      "target": "NODE_LLM_EXTRACT_01"
    },
    {
      "sourceHandle": "NODE_LLM_EXTRACT_01-1-llm_0",
      "data": { "weight": "1" },
      "markerEnd": { "color": "#9DA0B3", "width": 25, "type": "arrowclosed", "height": 10 },
      "animated": true,
      "style": { "strokeWidth": 2, "strokeLinejoin": "miter", "strokeDashoffset": 2, "stroke": "#9DA0B3", "strokeDasharray": 4 },
      "id": "EDGE_03",
      "source": "NODE_LLM_EXTRACT_01",
      "type": "ClosableEdge",
      "targetHandle": "NODE_TEXT_JSON_01-in",
      "selected": false,
      "target": "NODE_TEXT_JSON_01"
    },
    {
      "sourceHandle": "NODE_TEXT_JSON_01-1-text_json_0",
      "data": { "weight": "1" },
      "markerEnd": { "color": "#9DA0B3", "width": 25, "type": "arrowclosed", "height": 10 },
      "animated": true,
      "style": { "strokeWidth": 2, "strokeLinejoin": "miter", "strokeDashoffset": 2, "stroke": "#9DA0B3", "strokeDasharray": 4 },
      "id": "EDGE_04",
      "source": "NODE_TEXT_JSON_01",
      "type": "ClosableEdge",
      "targetHandle": "NODE_LLM_JUDGE_01-in",
      "selected": false,
      "target": "NODE_LLM_JUDGE_01"
    },
    {
      "sourceHandle": "NODE_INPUT_TEXT_01-1-input_text_0",
      "data": { "weight": "1" },
      "markerEnd": { "color": "#9DA0B3", "width": 25, "type": "arrowclosed", "height": 10 },
      "animated": true,
      "style": { "strokeWidth": 2, "strokeLinejoin": "miter", "strokeDashoffset": 2, "stroke": "#9DA0B3", "strokeDasharray": 4 },
      "id": "EDGE_05",
      "source": "NODE_INPUT_TEXT_01",
      "type": "ClosableEdge",
      "targetHandle": "NODE_LLM_JUDGE_01-in",
      "selected": false,
      "target": "NODE_LLM_JUDGE_01"
    },
    {
      "sourceHandle": "NODE_LLM_JUDGE_01-1-llm_1",
      "data": { "weight": "1" },
      "markerEnd": { "color": "#9DA0B3", "width": 25, "type": "arrowclosed", "height": 10 },
      "animated": true,
      "style": { "strokeWidth": 2, "strokeLinejoin": "miter", "strokeDashoffset": 2, "stroke": "#9DA0B3", "strokeDasharray": 4 },
      "id": "EDGE_06",
      "source": "NODE_LLM_JUDGE_01",
      "type": "ClosableEdge",
      "selected": false,
      "target": "NODE_OUTPUT_TEXT_01"
    }
  ],
  "inputsSchemas": [
    {
      "outputs": [{ "apiName": "input_image_0", "name": "input_image_0", "type": "IMAGE" }],
      "inputs": [
        {
          "component": { "editableLabel": true, "runtime": true, "renderType": "imageInput", "props": { "maxSize": 25, "accept": ".png,.jpg,.jpeg,.svg,.gif,.webp" } },
          "defaultValue": { "filename": "", "url": "" },
          "name": "image",
          "label": "{{INPUT_IMAGE_LABEL}}",
          "type": "IMAGE",
          "value": { "filename": "", "url": "" },
          "required": true
        }
      ],
      "name": "input_image",
      "uuid": "NODE_INPUT_IMAGE_01"
    },
    {
      "outputs": [{ "apiName": "input_text_0", "name": "input_text_0", "type": "TEXT" }],
      "inputs": [
        {
          "component": { "editableLabel": true, "runtime": true, "renderType": "variableInput", "props": { "autoSize": { "minRows": 1, "maxRows": 15 } } },
          "defaultValue": "",
          "name": "text",
          "label": "{{INPUT_TEXT_LABEL}}",
          "type": "TEXT",
          "value": "",
          "required": true
        }
      ],
      "name": "input_text",
      "uuid": "NODE_INPUT_TEXT_01"
    }
  ],
  "nodes": [
    {
      "outputs": [{ "apiName": "input_image_0", "name": "input_image_0", "type": "IMAGE" }],
      "functionName": "input_image",
      "inputs": [{ "name": "image", "label": "{{INPUT_IMAGE_LABEL}}", "value": { "filename": "", "url": "" } }],
      "name": "input_image",
      "position": { "x": 80, "y": -230 },
      "title": "上传图片",
      "uuid": "NODE_INPUT_IMAGE_01",
      "version": "1.2.0",
      "desc": "从网页端或者通过API接收用户上传的图片"
    },
    {
      "outputs": [{ "apiName": "input_text_0", "name": "input_text_0", "type": "TEXT" }],
      "functionName": "input_text",
      "inputs": [{ "name": "text", "label": "{{INPUT_TEXT_LABEL}}", "value": "" }],
      "name": "input_text",
      "position": { "x": 1050, "y": 250 },
      "title": "输入文本",
      "uuid": "NODE_INPUT_TEXT_01",
      "version": "1.1.0",
      "desc": "从网页端或者通过API接收用户输入的文本"
    },
    {
      "outputs": [{ "apiName": "imageocr_text_0", "name": "imageocr_text_0", "type": "TEXT" }],
      "functionName": "ocr",
      "inputs": [
        { "name": "param_variable", "label": "图片", "value": "{{input_image_0}}" },
        { "name": "model", "label": "模型", "value": "xybot" },
        { "name": "scene", "label": "场景", "value": "normal" }
      ],
      "name": "ai_ocr",
      "position": { "x": 80, "y": 265 },
      "title": "图片文字提取",
      "uuid": "NODE_OCR_01",
      "version": "1.4.0",
      "desc": "识别图片内的文字"
    },
    {
      "outputs": [{ "apiName": "llm_0", "name": "llm_0", "type": "TEXT" }],
      "functionName": "llm",
      "inputs": [
        { "name": "channel", "label": "厂商", "value": "deepseek" },
        { "name": "model", "label": "模型", "value": "deepseek-chat" },
        { "name": "temperature", "label": "创意程度", "value": 0.25 },
        { "name": "system", "label": "提示词Prompt（角色和要求）", "value": "{{EXTRACT_SYSTEM_PROMPT}}" },
        { "name": "user", "label": "提示词Prompt（内容和问题）", "value": "{{imageocr_text_0}}" },
        { "name": "openAIKey", "label": "", "value": "" }
      ],
      "name": "ai_llm",
      "position": { "x": 590, "y": -280 },
      "title": "信息提取",
      "uuid": "NODE_LLM_EXTRACT_01",
      "version": "1.13.0",
      "desc": "大语言模型，根据Prompt输出内容"
    },
    {
      "outputs": [{ "apiName": "text_json_0", "name": "text_json_0", "type": "JSON" }],
      "functionName": "text_to_json",
      "inputs": [
        { "name": "text", "label": "需要处理的文本（以JSON样式展示的文本）", "value": "{{llm_0}}" }
      ],
      "name": "tool_text_json",
      "position": { "x": 585, "y": 470 },
      "title": "文本转JSON对象",
      "uuid": "NODE_TEXT_JSON_01",
      "version": "1.0.0",
      "desc": "将含有JSON样式的文本转换为JSON类型对象"
    },
    {
      "outputs": [{ "apiName": "llm_1", "name": "llm_1", "type": "TEXT" }],
      "functionName": "llm",
      "inputs": [
        { "name": "channel", "label": "厂商", "value": "azure" },
        { "name": "model", "label": "模型", "value": "gpt-4o" },
        { "name": "temperature", "label": "创意程度", "value": 0.25 },
        { "name": "system", "label": "提示词Prompt（角色和要求）", "value": "{{JUDGE_SYSTEM_PROMPT}}" },
        { "name": "user", "label": "提示词Prompt（内容和问题）", "value": "{{JUDGE_USER_PROMPT}}" },
        { "name": "openAIKey", "label": "", "value": "" }
      ],
      "name": "ai_llm",
      "position": { "x": 2080, "y": -270 },
      "title": "审核判断",
      "uuid": "NODE_LLM_JUDGE_01",
      "version": "1.13.0",
      "desc": "大语言模型，根据Prompt输出内容"
    },
    {
      "outputs": [{ "apiName": "output_text_0", "name": "output_text_0", "type": "TEXT" }],
      "functionName": "output_text",
      "inputs": [
        { "name": "param_variable", "label": "文本", "value": "{{llm_1}}" },
        { "name": "text", "label": "{{OUTPUT_LABEL}}", "value": "" }
      ],
      "name": "output_text",
      "position": { "x": 2560, "y": 70 },
      "title": "输出文本",
      "uuid": "NODE_OUTPUT_TEXT_01",
      "version": "1.1.0",
      "desc": "将文本内容从网页端或者通过API输出"
    }
  ],
  "outputsSchemas": [
    {
      "outputs": [{ "apiName": "output_text_0", "name": "output_text_0", "type": "TEXT" }],
      "inputs": [
        { "component": { "editableLabel": false, "renderType": "paramInput", "props": { "disabled": true, "readOnly": true, "placeholder": "可以使用{{变量名.子变量名}}的方式提取子变量" } }, "defaultValue": "", "name": "param_variable", "label": "文本", "type": "TEXT", "value": "{{llm_1}}", "required": false },
        { "component": { "editableLabel": true, "runtime": true, "renderType": "textInput", "props": { "autoSize": { "minRows": 1, "maxRows": 15 }, "readOnly": true } }, "defaultValue": "", "name": "text", "label": "{{OUTPUT_LABEL}}", "type": "TEXT", "value": "", "required": false }
      ],
      "name": "output_text",
      "uuid": "NODE_OUTPUT_TEXT_01"
    }
  ]
}
